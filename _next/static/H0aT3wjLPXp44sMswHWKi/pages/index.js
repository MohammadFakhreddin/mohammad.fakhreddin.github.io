(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/EDR":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a("QeBL")}])},FHgp:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var r=a("hfKm"),n=a.n(r),s=a("2Eek"),o=a.n(s),i=a("XoMD"),l=a.n(i),u=a("Jo+v"),c=a.n(u),p=a("4mXO"),g=a.n(p),h=a("pLtp"),d=a.n(h),b=a("sLSF"),f=a("MI3g"),m=a("a7VT"),x=a("Tit0"),O=a("0iUn"),y=a("vYYK"),v=a("q1tI"),j=a.n(v),E=a("O/Ae"),T=a("hDrk"),w=a("+son"),N=a("Gr5k"),k=a("ynrD"),P=a("IAK1"),S=j.a.createElement;function C(e,t){var a=d()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return c()(e,t).enumerable}))),a.push.apply(a,r)}return a}var L=function e(){Object(O.a)(this,e)};Object(y.a)(L,"label",{marginBottom:"0.5em",opacity:.8}),Object(y.a)(L,"bottomError",{height:"1.7em",width:"100%",paddingTop:"1em"}),Object(y.a)(L,"errorText",{opacity:1});var _=function(e){function t(){return Object(O.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):l.a?o()(e,l()(a)):C(Object(a)).forEach((function(t){n()(e,t,c()(a,t))}))}return e}({width:this.props.width},this.props.style),t=!0===w.a.isNullOrEmpty(this.props.errorText);return S("div",{className:"form-group"+(this.props.isRequired?" required ":"")+(T.a.getInstance().getUserState().getIsRtl()?" rtl ":" ltr "),style:e},S(N.a,{autoJustifyContent:"from-start"},S(P.a,{size:E.d.label,text:this.props.label,className:"control-label",style:L.label,color:E.a.black})),this.props.renderChildren({isValid:!0===t}),S(N.a,{style:L.bottomError,autoJustifyContent:"from-start"},!1===t&&S(k.a,{color:E.a.red,size:E.d.label,text:this.props.errorText,style:L.errorText})))}}]),t}(j.a.PureComponent);Object(y.a)(_,"defaultProps",{width:"20em",isRequired:!0,label:"",style:{},errorText:null,renderChildren:function(){return null}})},QeBL:function(e,t,a){"use strict";a.r(t);var r=a("ln6h"),n=a.n(r),s=a("kOwS"),o=a("sLSF"),i=a("MI3g"),l=a("a7VT"),u=a("AT/M"),c=a("Tit0"),p=a("0iUn"),g=a("vYYK"),h=a("q1tI"),d=a.n(h),b=a("HASI"),f=a("hfKm"),m=a.n(f),x=a("2Eek"),O=a.n(x),y=a("XoMD"),v=a.n(y),j=a("Jo+v"),E=a.n(j),T=a("4mXO"),w=a.n(T),N=a("pLtp"),k=a.n(N),P=d.a.createElement;function S(e,t){var a=k()(e);if(w.a){var r=w()(e);t&&(r=r.filter((function(t){return E()(e,t).enumerable}))),a.push.apply(a,r)}return a}var C=function e(){Object(p.a)(this,e)};Object(g.a)(C,"root",{objectFit:"cover",zIndex:1,position:"absolute",left:0,top:0,bottom:0,right:0,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"});var L=function(e){function t(){return Object(p.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(g.a)(e,t,a[t])})):v.a?O()(e,v()(a)):S(Object(a)).forEach((function(t){m()(e,t,E()(a,t))}))}return e}({},C.root,{},this.props.style,{backgroundImage:"url(".concat(this.props.url,")")});return P("div",{style:e,className:this.props.className},this.props.children)}}]),t}(d.a.PureComponent);Object(g.a)(L,"defaultProps",{url:"",style:{},className:""});var _=d.a.createElement,I=function e(){Object(p.a)(this,e)};Object(g.a)(I,"root",{backgroundImage:"linear-gradient(to bottom, rgba(0,0,0,0.0) ,rgba(0,0,0,0.3))",position:"absolute",display:"flex",left:0,top:0,bottom:0,right:0,zIndex:2});var A=function(e){function t(){return Object(p.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return _("div",{style:I.root},this.props.children)}}]),t}(d.a.PureComponent),F=a("BDHQ"),R=a("lvlz"),D=a("lx2u"),V=a("miVr"),U=a("FHgp"),B=a("0BeV"),q=a("IAK1"),z=a("O/Ae"),M=a("hDrk"),H=a("Uj0J"),J=a("EHiG"),K=a("ljLU"),X=a("dJve"),Y=a("xldN"),W=a("halr"),$=a("+son");a.d(t,"default",(function(){return Z}));var Q=d.a.createElement,G=function e(){Object(p.a)(this,e)};Object(g.a)(G,"root",{flex:1,width:"100%",height:"100%",display:"flex",alignContent:"center",alignItems:"flex-start",justifyContent:"center",flexDirection:"column"}),Object(g.a)(G,"content",{width:"100%",display:"flex",alignContent:"center",alignItems:"center",justifyContent:"center",zIndex:3,flexDirection:"column"}),Object(g.a)(G,"userSectionParent",{display:"flex",alignContent:"center",alignItems:"center",justifyContent:"center",flexDirection:"row"}),Object(g.a)(G,"userSectionLayout",{display:"flex",alignContent:"center",alignItems:"center",justifyContent:"center",flexDirection:"column"}),Object(g.a)(G,"buttonSpace",{height:"0.5em"}),Object(g.a)(G,"labelAndEditTextSpace",{marginBottom:"0.5em",marginTop:"0em"}),Object(g.a)(G,"header",{marginBottom:"1.8em",marginTop:"0.7em"}),Object(g.a)(G,"changeLanguageButton",{position:"absolute",top:"3em",left:"3em",zIndex:3});var Z=function(e){function t(e){var a;return Object(p.a)(this,t),a=Object(i.a)(this,Object(l.a)(t).call(this,e)),Object(g.a)(Object(u.a)(a),"state",{language:M.a.getInstance().getUserState().getLanguage(),usernameErrorText:null,passwordErrorText:null}),Object(g.a)(Object(u.a)(a),"checkForAuthentication",!1),Object(g.a)(Object(u.a)(a),"usernameEditText",null),Object(g.a)(Object(u.a)(a),"passwordEditText",null),a.onChangeLanguagePressed=a.onChangeLanguagePressed.bind(Object(u.a)(a)),a.onLoginPressed=a.onLoginPressed.bind(Object(u.a)(a)),a.onForgotPasswordPressed=a.onForgotPasswordPressed.bind(Object(u.a)(a)),a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"renderSafe",value:function(){var e=this,t="en"===M.a.getInstance().getUserState().getLanguage()?"FA":"EN";return Q("div",{style:G.root},Q(L,{url:b.a.loginPageBackground}),Q(A,null),Q(R.a,{onPress:this.onChangeLanguagePressed,style:G.changeLanguageButton},Q(q.a,{text:t,color:z.a.white})),Q("div",{style:G.content},Q(D.a,{style:G.userSectionParent,hasShadow:!1},Q("div",{style:G.userSectionLayout},Q(q.a,{style:G.header,size:z.d.bh3,color:z.a.black,text:W.a.translate("index_header_title")}),Q(U.a,{isRequired:!1,style:G.labelAndEditTextSpace,label:W.a.translate("index_login_username_label"),errorText:this.state.usernameErrorText,renderChildren:function(t){return Q(V.a,Object(s.a)({},t,{ref:function(t){return e.usernameEditText=t},placeholder:W.a.translate("index_login_username_placeholder")}))}}),Q(U.a,{isRequired:!1,style:G.labelAndEditTextSpace,errorText:this.state.passwordErrorText,label:W.a.translate("index_login_password_label"),renderChildren:function(t){return Q(V.a,Object(s.a)({},t,{ref:function(t){return e.passwordEditText=t},placeholder:W.a.translate("index_login_password_placeholder"),type:"password"}))}}),Q(F.a,{text:W.a.translate("index_login_enter"),onPress:this.onLoginPressed,needsLoadingOnPress:!0}),Q("div",{style:G.buttonSpace}),Q(F.a,{text:W.a.translate("index_forgot_password_button"),backgroundColor:z.a.lightBlue,textColor:z.a.blue,onPress:this.onForgotPasswordPressed,needsLoadingOnPress:!1})))))}},{key:"sceneDidMount",value:function(){!1===$.a.isNullOrEmpty(M.a.getInstance().getUserState().getToken())&&J.a.navigateToHomeScene("replace")}},{key:"onLoginPressed",value:function(){var e,t,a;return n.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.a.awrap(this.setStateAsync({usernameErrorText:null,passwordErrorText:null}));case 2:if(!$.a.isNullOrEmpty(this.usernameEditText.getText())){r.next=5;break}return r.next=5,n.a.awrap(this.setStateAsync({usernameErrorText:W.a.translate("index_login_username_missing")}));case 5:if(!$.a.isNullOrEmpty(this.passwordEditText.getText())){r.next=8;break}return r.next=8,n.a.awrap(this.setStateAsync({passwordErrorText:W.a.translate("index_login_password_missing")}));case 8:if(null==this.state.usernameErrorText&&null==this.state.passwordErrorText){r.next=10;break}return r.abrupt("return");case 10:return r.next=12,n.a.awrap(K.a.getInstance().login({username:this.usernameEditText.getText(),password:this.passwordEditText.getText()}));case 12:e=r.sent,t=e.statusCode,a=e.errorDescription,t===X.a.statusCodes.ok?J.a.navigateToHomeScene("replace"):this.alertInstance.show({title:W.a.translate("error"),description:W.a.translateErrorCode(t,a),isSuccess:!1});case 16:case"end":return r.stop()}}),null,this)}},{key:"onForgotPasswordPressed",value:function(){}},{key:"onChangeLanguagePressed",value:function(){return n.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=M.a.getInstance().getUserState().getLanguage(),e.next="en"===e.t0?3:"fa"===e.t0?5:7;break;case 3:return M.a.getInstance().getUserState().setLanguage("fa"),e.abrupt("break",8);case 5:return M.a.getInstance().getUserState().setLanguage("en"),e.abrupt("break",8);case 7:H.a.error("Unsupported situation ");case 8:return e.next=10,n.a.awrap(this.setStateAsync({language:M.a.getInstance().getUserState().getLanguage()}));case 10:Y.a.set(M.a.getInstance().getUserState().getLanguage());case 11:case"end":return e.stop()}}),null,this)}}]),t}(B.a)},miVr:function(e,t,a){"use strict";var r=a("hfKm"),n=a.n(r),s=a("2Eek"),o=a.n(s),i=a("XoMD"),l=a.n(i),u=a("Jo+v"),c=a.n(u),p=a("4mXO"),g=a.n(p),h=a("pLtp"),d=a.n(h),b=a("0iUn"),f=a("sLSF"),m=a("MI3g"),x=a("a7VT"),O=a("AT/M"),y=a("Tit0"),v=a("vYYK"),j=a("q1tI"),E=a.n(j),T=a("O/Ae"),w=a("WoZq"),N=a("+son"),k=function(){function e(){Object(b.a)(this,e)}return Object(f.a)(e,null,[{key:"fromArabicToPersianChar",value:function(e){if(N.a.isNullOrEmpty(e))return"";for(var t=["\u064a","\u0643","\u200d","\u062f\u0650","\u0628\u0650","\u0632\u0650","\u0630\u0650","\u0650\u0634\u0650","\u0650\u0633\u0650","\u0649"],a=["\u06cc","\u06a9","","\u062f","\u0628","\u0632","\u0630","\u0634","\u0633","\u06cc"],r=0,n=t.length;r<n;r++)e=e.replace(new RegExp(t[r],"g"),a[r]);return e}},{key:"fromPersianToEnglishNumber",value:function(t){if(N.a.isNullOrEmpty(t))return"";for(var a=0;a<e.englishNumbers.length;a++)t=t.replace(new RegExp(e.persianNumbers[a],"g"),e.englishNumbers[a]);return t}},{key:"fromArabicToPersianNumber",value:function(t){if(N.a.isNullOrEmpty(t))return"";t=t.toString();for(var a=e.arabicNumbers.length,r=0;r<a;r++)t=t.replace(new RegExp(e.arabicNumbers[r],"g"),e.persianNumbers[r]);return t}},{key:"fromEnglishToPersianNumber",value:function(t){if(N.a.isNullOrEmpty(t))return"";t=t.toString();for(var a=0,r=e.englishNumbers.length;a<r;a++)t=t.replace(new RegExp(e.englishNumbers[a],"g"),e.persianNumbers[a]);return t}},{key:"fromArabicToEnglishNumber",value:function(t){if(N.a.isNullOrEmpty(t))return"";for(var a=0,r=e.englishNumbers.length;a<r;a++)t=t.replace(new RegExp(e.persianNumbers[a],"g"),e.englishNumbers[a]).replace(new RegExp(e.arabicNumbers[a],"g"),e.englishNumbers[a]);return t}},{key:"decodeURL",value:function(e){if(N.a.isNullOrEmpty(e))return"";for(var t="";t!==e;)t=e,e=e.replace(/(http\S+?)\%20/g,"$1\u200c\u200c\u200c_\u200c\u200c\u200c");return e=(e=e.replace(/(http\S+)/g,(function(e,t){return decodeURI(t)}))).replace(/\u200c\u200c\u200c_\u200c\u200c\u200c/g,"%20")}},{key:"switchFromPersianToEnglishKey",value:function(e){if(N.a.isNullOrEmpty(e))return"";for(var t=["\u0636","\u0635","\u062b","\u0642","\u0641","\u063a","\u0639","\u0647","\u062e","\u062d","\u062c","\u0686","\u0634","\u0633","\u06cc","\u0628","\u0644","\u0627","\u062a","\u0646","\u0645","\u06a9","\u06af","\u0638","\u0637","\u0632","\u0631","\u0630","\u062f","\u067e","\u0648","\u061f"],a=["q","w","e","r","t","y","u","i","o","p","[","]","a","s","d","f","g","h","j","k","l",";","'","z","x","c","v","b","n","m",",","?"],r=0,n=t.length;r<n;r++)e=e.replace(new RegExp(t[r],"g"),a[r]);return e}},{key:"createHalfSpace",value:function(e){return e?(t=/((\s\u0645\u06CC)+( )+([\u0600-\u06EF]{1,}){1,})/g,e=e.replace(new RegExp(t),"$2\u200c$4"),t=/(([\u0600-\u06EF]{1,})+( )+(\u0627\u06cc|\u0627\u06cc\u06cc|\u0627\u0646\u062f|\u0627\u06cc\u0645|\u0627\u06cc\u062f|\u0627\u0645){1})/g,e=e.replace(new RegExp(t),"$2\u200c$4")):"";var t}},{key:"convertToMoneyFormat",value:function(t){if(N.a.isNullOrEmpty(t))return"0";for(t=e.fromPersianToEnglishNumber(t);t.includes(",");)t=t.replace(",","");if(isNaN(t))return"0";for(var a=t.split("");a.length>1&&"0"===a[0];)a.splice(0,1);t="";for(var r=0,n=a.length-1;n>=0;n--)t=a[n].concat(t),++r%3===0&&0!==n&&(t=",".concat(t));return t}}]),e}();Object(v.a)(k,"arabicNumbers",["\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669","\u0660"]),Object(v.a)(k,"persianNumbers",["\u06f1","\u06f2","\u06f3","\u06f4","\u06f5","\u06f6","\u06f7","\u06f8","\u06f9","\u06f0"]),Object(v.a)(k,"englishNumbers",["1","2","3","4","5","6","7","8","9","0"]);var P=a("halr");a.d(t,"a",(function(){return L}));var S=E.a.createElement;function C(e,t){var a=d()(e);if(g.a){var r=g()(e);t&&(r=r.filter((function(t){return c()(e,t).enumerable}))),a.push.apply(a,r)}return a}var L=function(e){function t(e){var a;return Object(b.a)(this,t),a=Object(m.a)(this,Object(x.a)(t).call(this,e)),Object(v.a)(Object(O.a)(a),"state",{text:a.props.defaultValue}),Object(v.a)(Object(O.a)(a),"lastDefaultValue",a.props.defaultValue),a.onChangeText=a.onChangeText.bind(Object(O.a)(a)),a.getText=a.getText.bind(Object(O.a)(a)),a.setText=a.setText.bind(Object(O.a)(a)),a}return Object(y.a)(t,e),Object(f.a)(t,[{key:"onChangeText",value:function(e){var t=e.target.value;t=k.fromPersianToEnglishNumber(t),t=k.fromArabicToEnglishNumber(t),t=k.fromArabicToPersianChar(t),this.setState({text:t}),this.props.onChangeText(t)}},{key:"getText",value:function(){return this.state.text}},{key:"setText",value:function(e){this.setState({text:e})}},{key:"render",value:function(){this.lastDefaultValue!==this.props.defaultValue&&(this.state.text=this.props.defaultValue,this.lastDefaultValue=this.props.defaultValue);var e=N.a.isNullOrEmpty(this.state.text),t=N.a.isPersianText(this.state.text),a=!1,r=null;!0===e&&(a=N.a.isPersianText(this.props.placeholder),r=P.a.getHeaderFont(a?"fa":"en"));var s={fontFamily:!1===e?P.a.getBodyFont(t?"fa":"en"):r,backgroundColor:T.a.editTextBackground},i=!1===e&&!0===t||!0===e&&!0===a?"rtl":"ltr",u=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){Object(v.a)(e,t,a[t])})):l.a?o()(e,l()(a)):C(Object(a)).forEach((function(t){n()(e,t,c()(a,t))}))}return e}({minWidth:this.props.minWidth},this.props.style);return S("div",{className:"form-label-group",style:u},S("input",{dir:i,maxLength:this.props.maxLength,type:this.props.type,value:this.state.text,onChange:this.onChangeText,className:"form-control baseEditText ".concat(!1===this.props.isValid?" form-control-invalid ":""," ").concat(this.props.className," "),minLength:this.props.minLength,placeholder:this.props.placeholder,style:s}))}}]),t}(j.Component);Object(v.a)(L,"defaultProps",{type:"text",maxLength:30,minLength:0,placeholder:"",defaultValue:"",className:"",isValid:!0,onChangeText:function(){},minWidth:w.a.normalButtonWidth,style:{}})}},[["/EDR",1,0]]]);